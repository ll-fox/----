{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"content\">\n\t\t<view class=\"logo-container\">\n\t\t\t<image class=\"logo\" src=\"/static/logo.png\" mode=\"aspectFit\"></image>\n\t\t</view>\n\t\t<view class=\"form-container\">\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"label\">快递单号</text>\n\t\t\t\t<input class=\"input\" v-model=\"form.trackingNumber\" placeholder=\"请输入快递单号\" @input=\"onTrackingNumberInput\" />\n\t\t\t</view>\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"label\">快递公司</text>\n\t\t\t\t<picker class=\"picker\" mode=\"selector\" :range=\"courierCompanies\" @change=\"onCourierChange\">\n\t\t\t\t\t<view class=\"picker-text\">{{ form.courier || '请选择快递公司' }}</view>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"label\">备注</text>\n\t\t\t\t<textarea class=\"textarea\" v-model=\"form.remark\" placeholder=\"请输入备注\" />\n\t\t\t</view>\n\t\t\t<button class=\"submit-btn\" @click=\"onSubmit\">\n\t\t\t\t<text>提交</text>\n\t\t\t</button>\n\t\t</view>\n\t</view>\n\t<view v-if=\"loading\" class=\"global-loading\">\n\t\t<view class=\"loading\"></view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tform: {\n\t\t\t\t\ttrackingNumber: '',\n\t\t\t\t\tcourier: '',\n\t\t\t\t\tremark: ''\n\t\t\t\t},\n\t\t\t\tcourierCompanies: ['顺丰速运', '圆通快递', '中通快递', '韵达快递', '京东物流', '邮政快递'],\n\t\t\t\tloading: false\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\n\t\t},\n\t\tmethods: {\n\t\t\tonCourierChange(e) {\n\t\t\t\tthis.form.courier = this.courierCompanies[e.detail.value]\n\t\t\t},\n\t\t\tonTrackingNumberInput(event) {\n\t\t\t\tconst value = event.detail.value;\n\t\t\t\t// 允许字母和数字，禁止汉字\n\t\t\t\tconst filteredValue = value.replace(/[^\\u0000-\\u007F]/g, ''); // 过滤掉汉字\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.form.trackingNumber = filteredValue;\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync onSubmit() {\n\t\t\t\tif (this.loading) return;\n\t\t\t\tthis.loading = true;\n\t\t\t\t\n\t\t\t\tif (!this.form.trackingNumber.trim()) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请填写快递单号',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.form.courier) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请选择快递公司',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tconst formData = {\n\t\t\t\t\t\t...this.form,\n\t\t\t\t\t\tstatus: '待处理' // 明确设置状态为待处理\n\t\t\t\t\t};\n\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'feedback',\n\t\t\t\t\t\tdata: formData\n\t\t\t\t\t});\n\n\t\t\t\t\tif (res.result.code === 200) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '提交成功'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// 清空表单\n\t\t\t\t\t\tthis.form = {\n\t\t\t\t\t\t\ttrackingNumber: '',\n\t\t\t\t\t\t\tcourier: '',\n\t\t\t\t\t\t\tremark: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.result.message || '提交失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络错误，请重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.logo-container {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t\tmargin-bottom: 20px;\n\t}\n\n\t.logo {\n\t\twidth: 70%;\n\t\theight: 90px;\n\t}\n\n\t.content {\n\t\tpadding: 20px;\n\t\tbackground: linear-gradient(180deg, #F5F5F7 0%, #FFFFFF 100%);\n\t}\n\n\t.form-container {\n\t\tbackground: rgba(255, 255, 255, 0.8);\n\t\tbackdrop-filter: blur(20px);\n\t\tpadding: 20px;\n\t\tborder-radius: 12px;\n\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n\t\tborder: 1px solid rgba(255, 255, 255, 0.3);\n\t}\n\n\t.form-item {\n\t\tmargin-bottom: 20px;\n\t}\n\n\t.label {\n\t\tdisplay: block;\n\t\tfont-size: 14px;\n\t\tcolor: #1C1C1E;\n\t\tmargin-bottom: 8px;\n\t\tfont-weight: 500;\n\t}\n\n\t.input,\n\t.picker-text,\n\t.textarea {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tline-height: 40px;\n\t\tpadding: 0 12px;\n\t\tborder: 1px solid rgba(0, 0, 0, 0.1);\n\t\tborder-radius: 8px;\n\t\tbox-sizing: border-box;\n\t\tbackground: rgba(255, 255, 255, 0.8);\n\t\tfont-size: 14px;\n\t\tcolor: #1C1C1E;\n\t}\n\n\t.picker-text {\n\t\tcolor: #8E8E93;\n\t}\n\n\t.textarea {\n\t\theight: 100px;\n\t\tpadding: 12px;\n\t\tline-height: 1.5;\n\t}\n\n\t.submit-btn {\n\t\twidth: 100%;\n\t\theight: 44px;\n\t\tline-height: 44px;\n\t\tbackground-color: #c49b45;\n\t\tcolor: #fff;\n\t\tborder-radius: 10px;\n\t\tmargin-top: 20px;\n\t\tfont-size: 16px;\n\t\tfont-weight: 500;\n\t\tborder: none;\n\t\ttransition: all 0.2s ease;\n\t}\n\n\t.submit-btn:active {\n\t\tbackground-color: #c49b45;\n\t\topacity: 0.9;\n\t}\n\n\t.global-loading {\n\t\tposition: fixed;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tz-index: 999;\n\t}\n\n\t.loading {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tborder: 4px solid rgba(196, 155, 69, 0.2);\n\t\tborder-top: 4px solid #c49b45;\n\t\tborder-radius: 50%;\n\t\tanimation: spin 1s linear infinite;\n\t}\n\n\t@keyframes spin {\n\t\t0% { transform: rotate(0deg); }\n\t\t100% { transform: rotate(360deg); }\n\t}\n</style>\n","import MiniProgramPage from '/Users/liulin/liulin/project/odd-system/odd-system/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;;AA+BC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,MAAM;AAAA,QACL,gBAAgB;AAAA,QAChB,SAAS;AAAA,QACT,QAAQ;AAAA,MACR;AAAA,MACD,kBAAkB,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,MAAM;AAAA,MACjE,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AAAA,EAER;AAAA,EACD,SAAS;AAAA,IACR,gBAAgB,GAAG;AAClB,WAAK,KAAK,UAAU,KAAK,iBAAiB,EAAE,OAAO,KAAK;AAAA,IACxD;AAAA,IACD,sBAAsB,OAAO;AAC5B,YAAM,QAAQ,MAAM,OAAO;AAE3B,YAAM,gBAAgB,MAAM,QAAQ,qBAAqB,EAAE;AAC3D,WAAK,UAAU,MAAM;AACpB,aAAK,KAAK,iBAAiB;AAAA,MAC5B,CAAC;AAAA,IACD;AAAA,IACD,MAAM,WAAW;AAChB,UAAI,KAAK;AAAS;AAClB,WAAK,UAAU;AAEf,UAAI,CAAC,KAAK,KAAK,eAAe,KAAI,GAAI;AACrCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD,aAAK,UAAU;AACf;AAAA,MACD;AACA,UAAI,CAAC,KAAK,KAAK,SAAS;AACvBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD,aAAK,UAAU;AACf;AAAA,MACD;AAEA,UAAI;AACH,cAAM,WAAW;AAAA,UAChB,GAAG,KAAK;AAAA,UACR,QAAQ;AAAA;AAAA;AAGT,cAAM,MAAM,MAAMC,cAAQ,GAAC,aAAa;AAAA,UACvC,MAAM;AAAA,UACN,MAAM;AAAA,QACP,CAAC;AAED,YAAI,IAAI,OAAO,SAAS,KAAK;AAC5BD,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,UACR,CAAC;AAED,eAAK,OAAO;AAAA,YACX,gBAAgB;AAAA,YAChB,SAAS;AAAA,YACT,QAAQ;AAAA;eAEH;AACNA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,IAAI,OAAO,WAAW;AAAA,YAC7B,MAAM;AAAA,UACP,CAAC;AAAA,QACF;AAAA,MACC,SAAO,OAAO;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;ACnHD,GAAG,WAAW,eAAe;"}